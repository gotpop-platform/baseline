@scope {
  :scope {
    background-color: white;
    display: grid;
    grid-column: box;
    grid-template-columns: subgrid;
    z-index: 1000;
    border-radius: 0 0 1rem 1rem;
    view-transition-name: header;
    padding: 1rem;
    padding-bottom: 2rem;
    margin-bottom: 2rem;
    transition: padding 0.4s 0.5s ease;
    height: 7rem;

    margin: 0 auto;
    grid-template-columns:
      [box-start] 1rem
      [col-start] repeat(12, [bro] minmax(1rem, 5rem))
      [col-end]
      1rem [box-end];

    width: fit-content;

    &:has(.mega:popover-open) {
      padding-bottom: 17rem;
      transition: padding 0.4s ease;
    }
  }

  button {
    background-color: #eee;
    border: none;
    border-radius: 0.5em;
    color: var(--slate-900);
    cursor: pointer;
    font-size: 1rem;
    padding: 0.5rem 1rem;
    transition: background-color 0.2s;
    grid-column: span 2;
  }

  nav {
    display: grid;
    grid-template-columns: subgrid;
    gap: 1rem;
    padding: 1rem;
    background-color: var(--bg);
    border-radius: 0 0 2em 2em;
    grid-column: 6 / span 8;
  }

  .mega {
    background: unset;
    border: none;
    bottom: calc(-200px + anchor(bottom));
    opacity: 0;
    padding: 0;
    transition: opacity 0.3s 0.3s,
      display 0.5s allow-discrete,
      overlay 0.5s allow-discrete;
    /* width: 100%; */
    overflow: hidden;
    margin: 0 auto;

    &:popover-open {
      opacity: 1;

      @starting-style {
        opacity: 0;
      }
    }
  }

  .inner {
    grid-column: col;
    background-color: var(--slate-400);
    padding: 2rem;
    border-radius: 0 0 0.5rem 0.5rem;

    ul {
      padding: 0;
    }

    li {
      list-style-type: none;
    }

    li a {
      background: #eee;
      padding: 0.2rem 0.5rem;
      margin-bottom: 0.5rem;
      border-radius: 0.5rem;
      display: inline-flex;
    }
  }
}
