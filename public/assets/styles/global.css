html {
  scroll-behavior: smooth;
  background-color: var(--warning-100);
  overflow: hidden auto;
}

.header-mega-menu {
  --display-animation: display 0.3s allow-discrete;
  --display-header: none;
  --grid-template-columns: subgrid;
  --grid-template-rows: min-content;
  --opacity: 0;
  background-color: transparent;
  /* display: var(--display-header); */
  grid-column: box;
  grid-template-columns: var(--grid-template-columns);
  grid-template-rows: var(--grid-template-rows);
  overflow: visible;
  padding: 0;
  position: static;
  /* view-transition-name: header; */
  opacity: 0;
  translate: 0 5rem;
  transition: display 0.4s allow-discrete,
    overlay 0.4s allow-discrete, opacity 0.4s,
    translate 0.4s;

  @container style(--is-desktop: true) {
    display: grid;
    --display-header: grid;
    --grid-template-rows: min-content 2rem;
    opacity: 1;
    translate: unset;
  }

  &::backdrop {
    transition: display 0.4s allow-discrete,
      overlay 0.4s allow-discrete, opacity 0.4s,
      translate 0.4s;
    opacity: 0;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(0.1rem);
    mask: radial-gradient(circle, transparent, black 70%);
  }

  &:popover-open {
    opacity: 1;
    translate: 0 0;

    &::backdrop {
      opacity: 1;
    }
  }

  @starting-style {
    &:popover-open {
      translate: 0 5rem;
    }

    &:popover-open,
    &:popover-open::backdrop {
      opacity: 0;
    }
  }
}

.submenu {
  --display-animation: display 0.3s allow-discrete;
  --opacity: 0;
  --display: none;
  --submenu-offset: -100%;
  --anchor: calc(
    var(--submenu-offset) + anchor(bottom center)
  );

  background-color: transparent;
  /* inset-area: bottom; */
  padding: 0;
  transition: opacity 0.3s 0.2s, var(--display-animation);
  position: absolute;
  display: none;

  /* bottom: anchor(top); */
  margin-bottom: 10px;
  margin-top: 0;

  inset-area: span-right bottom;
  inset-area: bottom;
  position-try-options: --bottom;

  &:nth-of-type(4) {
    /* display: flex; */
    inset-area: span-left bottom;
    position-anchor: --myAnchor;

  }

  @container style(--is-desktop: false) {
    --submenu-offset: -10rem;
  }
}

button:focus + .submenu,
button:hover + .submenu {
  /* --opacity: 1;
  --display: grid;
  
  @starting-style {
    --opacity: 0;
    } */

  display: flex;
  opacity: 1;
}

@position-try --bottom {
  inset-area: span-left bottom;

  margin-top: 100px;
}

.mega-nav .trigger-sub-menu {
  anchor-name: --myAnchor;
}
